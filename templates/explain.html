{% extends "base.html" %}

{% block title %}Learn Git & GitHub - Solarpunk Portfolio{% endblock %}

{% block content %}
<div class="explain-page">
    <h1>Understanding Git & GitHub Pages</h1>
    <p class="intro">Before you deploy your portfolio, let's understand what's happening under the hood.</p>

    <section class="explain-section">
        <h2>What is Git?</h2>
        <p>Git is a <strong>version control system</strong> - think of it like "Track Changes" in Word, but for code. It lets you:</p>
        <ul>
            <li>Save snapshots of your project at any point (called <strong>commits</strong>)</li>
            <li>Go back to previous versions if something breaks</li>
            <li>Work on different features simultaneously (using <strong>branches</strong>)</li>
            <li>Collaborate with others without overwriting each other's work</li>
        </ul>
    </section>

    <section class="explain-section">
        <h2>What is GitHub?</h2>
        <p>GitHub is a website that hosts Git repositories online. It's like Google Drive for code, but with superpowers:</p>
        <ul>
            <li>Your code is backed up in the cloud</li>
            <li>Others can view, download, or contribute to your projects</li>
            <li>It provides tools for code review, issue tracking, and project management</li>
            <li>It can host static websites for free with <strong>GitHub Pages</strong></li>
        </ul>
    </section>

    <section class="explain-section">
        <h2>Key Git Concepts</h2>

        <div class="concept">
            <h3>Repository (Repo)</h3>
            <p>A folder that Git is tracking. Contains your project files plus a hidden <code>.git</code> folder with all the version history.</p>
        </div>

        <div class="concept">
            <h3>Commit</h3>
            <p>A snapshot of your project at a specific moment. Each commit has a unique ID and a message describing what changed.</p>
            <div class="code-example">
                <code>git commit -m "Add contact section to portfolio"</code>
            </div>
        </div>

        <div class="concept">
            <h3>Branch</h3>
            <p>A parallel version of your project. The default branch is usually called <code>main</code>. For GitHub Pages, we use a special branch called <code>gh-pages</code>.</p>
        </div>

        <div class="concept">
            <h3>Push</h3>
            <p>Upload your commits to GitHub (the remote server).</p>
            <div class="code-example">
                <code>git push origin main</code>
            </div>
        </div>

        <div class="concept">
            <h3>Pull</h3>
            <p>Download changes from GitHub to your local computer.</p>
            <div class="code-example">
                <code>git pull origin main</code>
            </div>
        </div>
    </section>

    <section class="explain-section">
        <h2>Commit Message Etiquette</h2>
        <p>Good commit messages help you (and others) understand the project history. Follow these rules:</p>

        <div class="do-dont">
            <div class="do">
                <h4>Do</h4>
                <ul>
                    <li>Use imperative mood: "Add feature" not "Added feature"</li>
                    <li>Keep the first line under 50 characters</li>
                    <li>Be specific: "Fix login button color on mobile"</li>
                    <li>Reference issue numbers when relevant: "Fix #123"</li>
                </ul>
            </div>
            <div class="dont">
                <h4>Don't</h4>
                <ul>
                    <li>"Fixed stuff"</li>
                    <li>"WIP"</li>
                    <li>"asdfasdf"</li>
                    <li>"Changes"</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="explain-section">
        <h2>What is GitHub Pages?</h2>
        <p>GitHub Pages is a free hosting service that turns a Git repository into a live website. Perfect for:</p>
        <ul>
            <li>Personal portfolios (like the one you're building!)</li>
            <li>Project documentation</li>
            <li>Simple static websites</li>
        </ul>
        <p>Your portfolio will be live at: <code>https://YOUR-USERNAME.github.io/YOUR-REPO-NAME/</code></p>
    </section>

    <section class="explain-section highlight-section">
        <h2>First-Time Setup Guide</h2>
        <p>If you're deploying your own portfolio for the first time, follow these steps:</p>

        <div class="setup-steps">
            <div class="setup-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Create a GitHub Account</h4>
                    <p>If you don't have one, sign up at <a href="https://github.com" target="_blank">github.com</a>. It's free!</p>
                </div>
            </div>

            <div class="setup-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Create a New Repository</h4>
                    <p>On GitHub, click the <strong>+</strong> button in the top right and select "New repository".</p>
                    <ul>
                        <li>Name it something like <code>my-portfolio</code> or <code>portfolio</code></li>
                        <li>Make it <strong>Public</strong> (required for free GitHub Pages)</li>
                        <li>Don't initialize with README (we'll push our own code)</li>
                    </ul>
                </div>
            </div>

            <div class="setup-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Connect Your Local Project</h4>
                    <p>In your terminal, navigate to this project folder and run:</p>
                    <div class="code-example">
                        <code>git remote add origin https://github.com/YOUR-USERNAME/YOUR-REPO-NAME.git</code>
                    </div>
                    <p class="help-text">Replace YOUR-USERNAME and YOUR-REPO-NAME with your actual GitHub username and repository name.</p>
                </div>
            </div>

            <div class="setup-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Push Your Code</h4>
                    <p>Push your main branch to GitHub:</p>
                    <div class="code-example">
                        <code>git push -u origin main</code>
                    </div>
                </div>
            </div>

            <div class="setup-step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>Enable GitHub Pages</h4>
                    <p>On your GitHub repository page:</p>
                    <ol>
                        <li>Go to <strong>Settings</strong> (tab at the top)</li>
                        <li>Click <strong>Pages</strong> in the left sidebar</li>
                        <li>Under "Source", select <strong>Deploy from a branch</strong></li>
                        <li>Select the <strong>gh-pages</strong> branch and <strong>/ (root)</strong> folder</li>
                        <li>Click <strong>Save</strong></li>
                    </ol>
                    <p class="help-text">The gh-pages branch will be created automatically when you click "Deploy" in the portfolio builder.</p>
                </div>
            </div>

            <div class="setup-step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h4>Deploy Your Portfolio!</h4>
                    <p>Go back to the <a href="{{ url_for('admin') }}">Portfolio Builder</a> and click <strong>"Deploy to GitHub Pages"</strong>. Your site will be live at:</p>
                    <div class="code-example">
                        <code>https://YOUR-USERNAME.github.io/YOUR-REPO-NAME/</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="explain-section">
        <h2>What This Tool Automates</h2>
        <p>When you click "Deploy", the tool runs these Git commands for you:</p>

        <div class="command-flow">
            <div class="command-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <code>git add output/index.html portfolio_data.json</code>
                    <p>Stage the generated files for commit</p>
                </div>
            </div>

            <div class="command-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <code>git commit -m "Deploy portfolio - [timestamp]"</code>
                    <p>Create a commit with your changes</p>
                </div>
            </div>

            <div class="command-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <code>git subtree push --prefix output origin gh-pages</code>
                    <p>Push just the output folder to the gh-pages branch</p>
                </div>
            </div>
        </div>

        <p class="note">The <code>gh-pages</code> branch is special - GitHub automatically serves its contents as a website!</p>
    </section>

    <section class="explain-section">
        <h2>Common Git Commands Reference</h2>
        <table class="git-commands">
            <thead>
                <tr>
                    <th>Command</th>
                    <th>What it does</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>git status</code></td>
                    <td>See what files have changed</td>
                </tr>
                <tr>
                    <td><code>git add .</code></td>
                    <td>Stage all changed files</td>
                </tr>
                <tr>
                    <td><code>git commit -m "msg"</code></td>
                    <td>Save a snapshot with a message</td>
                </tr>
                <tr>
                    <td><code>git push</code></td>
                    <td>Upload commits to GitHub</td>
                </tr>
                <tr>
                    <td><code>git pull</code></td>
                    <td>Download changes from GitHub</td>
                </tr>
                <tr>
                    <td><code>git log --oneline</code></td>
                    <td>See commit history</td>
                </tr>
                <tr>
                    <td><code>git branch</code></td>
                    <td>List all branches</td>
                </tr>
                <tr>
                    <td><code>git checkout -b name</code></td>
                    <td>Create and switch to a new branch</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section class="explain-section troubleshooting-section">
        <h2>Troubleshooting Common Issues</h2>
        <p>Running into problems? Here are the most common issues and how to fix them:</p>

        <div class="issue">
            <h4>ðŸ”´ "Failed to stage files" or "Not a git repository"</h4>
            <p><strong>Cause:</strong> Git isn't initialized or configured properly.</p>
            <p><strong>Fix:</strong></p>
            <div class="code-example">
                <code>git init</code>
                <code>git remote add origin https://github.com/YOUR-USERNAME/YOUR-REPO.git</code>
            </div>
        </div>

        <div class="issue">
            <h4>ðŸ”´ "fatal: 'origin' does not appear to be a git repository"</h4>
            <p><strong>Cause:</strong> No remote repository is connected.</p>
            <p><strong>Fix:</strong> Create a repo on GitHub first, then connect it:</p>
            <div class="code-example">
                <code>git remote add origin https://github.com/YOUR-USERNAME/YOUR-REPO.git</code>
            </div>
        </div>

        <div class="issue">
            <h4>ðŸ”´ "Authentication failed" or "Permission denied"</h4>
            <p><strong>Cause:</strong> Git doesn't have permission to push to your GitHub account.</p>
            <p><strong>Fix:</strong> You need to authenticate with GitHub. Options:</p>
            <ul>
                <li><strong>GitHub CLI:</strong> Run <code>gh auth login</code> and follow prompts</li>
                <li><strong>Personal Access Token:</strong> Create one at GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens</li>
                <li><strong>SSH Keys:</strong> <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh" target="_blank">Set up SSH keys</a></li>
            </ul>
        </div>

        <div class="issue">
            <h4>ðŸ”´ 404 Error when visiting your GitHub Pages URL</h4>
            <p><strong>Cause:</strong> GitHub Pages isn't enabled, or the gh-pages branch doesn't exist yet.</p>
            <p><strong>Fix:</strong></p>
            <ol>
                <li>Make sure you've clicked "Deploy" at least once (this creates the gh-pages branch)</li>
                <li>Go to your repo â†’ Settings â†’ Pages</li>
                <li>Set Source to "Deploy from a branch"</li>
                <li>Select <strong>gh-pages</strong> branch and <strong>/ (root)</strong></li>
                <li>Wait 1-2 minutes for GitHub to build your site</li>
            </ol>
        </div>

        <div class="issue">
            <h4>ðŸ”´ "Repository must be public" or Pages not available</h4>
            <p><strong>Cause:</strong> GitHub Pages requires a public repository (on free accounts).</p>
            <p><strong>Fix:</strong> Go to your repo â†’ Settings â†’ scroll to "Danger Zone" â†’ Change visibility to Public</p>
        </div>

        <div class="issue">
            <h4>ðŸŸ¡ Changes not appearing on live site</h4>
            <p><strong>Cause:</strong> GitHub Pages can take 1-2 minutes to update after a deploy.</p>
            <p><strong>Fix:</strong></p>
            <ul>
                <li>Wait a minute or two</li>
                <li>Hard refresh your browser: <code>Ctrl+Shift+R</code> (Windows) or <code>Cmd+Shift+R</code> (Mac)</li>
                <li>Check the "Actions" tab on GitHub to see if the build is still running</li>
            </ul>
        </div>

        <div class="issue">
            <h4>ðŸŸ¡ Images not loading on live site</h4>
            <p><strong>Cause:</strong> Mixed content (using http:// instead of https://) or broken URLs.</p>
            <p><strong>Fix:</strong></p>
            <ul>
                <li>Make sure all image URLs start with <code>https://</code></li>
                <li>Test image URLs directly in your browser to verify they work</li>
                <li>Use reliable image hosts (LinkedIn, Gravatar, Imgur, GitHub itself)</li>
            </ul>
        </div>

        <div class="issue">
            <h4>ðŸŸ¡ "subtree push" errors</h4>
            <p><strong>Cause:</strong> Git subtree can be finicky with history.</p>
            <p><strong>Fix:</strong> Try a force push to gh-pages (this is safe since gh-pages only contains generated files):</p>
            <div class="code-example">
                <code>git push origin `git subtree split --prefix output main`:gh-pages --force</code>
            </div>
        </div>

        <div class="help-box">
            <h4>Still stuck?</h4>
            <p>Ask your instructor for help, or check the error messages carefully - they usually tell you exactly what's wrong!</p>
        </div>
    </section>

    <div class="cta-section">
        <h2>Ready to Build?</h2>
        <p>Now that you understand the basics, let's create your portfolio!</p>
        <a href="{{ url_for('admin') }}" class="btn btn-primary">Go to Portfolio Builder</a>
    </div>
</div>
{% endblock %}
